play.akka.actor-system = "ClusterSystem"

akka.persistence.journal.plugin = "cassandra-journal"
akka.persistence.snapshot-store.plugin = "cassandra-snapshot-store"

cassandra-journal {
  enable-events-by-tag-query = on

  event-adapters = {
    speedcuber = "com.mtomanski.timer.infrastructure.akka.adapter.SpeedcuberEventsTaggingAdapter"
  }

  event-adapter-bindings = {
    "com.mtomanski.timer.domain.model.Speedcuber$TimeAdded" = [speedcuber]
    "com.mtomanski.timer.domain.model.Speedcuber$BestAvgChanged" = [speedcuber]
  }
}

akka {
  actor {
    provider = cluster
    warn-about-java-serializer-usage = off
  }

  remote {
    log-remote-lifecycle-events = off
    enabled-transports = ["akka.remote.netty.tcp"]

    netty.tcp {
      hostname = "127.0.0.1"
      port = 2552
    }
  }

  cluster {
    seed-nodes = [
      "akka.tcp://ClusterSystem@127.0.0.1:2552",
      "akka.tcp://ClusterSystem@127.0.0.1:2553"
    ]

    # auto downing is NOT safe for production depl
    # oyments.
    # you may want to use it during development, read more about it in the docs.
    #
    # auto-down-unreachable-after = 10s
  }
}

slick.dbs.default.driver="slick.driver.PostgresDriver$"
slick.dbs.default.db.driver="org.postgresql.Driver"
slick.dbs.default.db.url="jdbc:postgresql://localhost:5432/timer"
slick.dbs.default.db.user=mtomanski
slick.dbs.default.db.password=password

play.modules.enabled += "com.mtomanski.timer.infrastructure.play.Module"
